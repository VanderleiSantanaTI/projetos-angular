<ion-header [translucent]="true">
  @if(isMobile) {
    <app-header-mobile></app-header-mobile>
  }@else {
    <app-header-desktop></app-header-desktop>
  }
</ion-header>

<ion-content class="container ">


  <ion-card>
    <ion-card-header>
        <ion-card-title class="titulo-color">Cadastro de peças e serviços</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-row>

        <ion-col class="col" size="12" size-md="3">
          <ion-input
              type="number"
              label="Nº (OS) "
              label-placement="floating"
              fill="outline"
              placeholder="Ordem de Serviço"
              [(ngModel)]="OS"
              required
              maxlength="2">
            </ion-input>
        </ion-col>

        <ion-col class="col" size="12" size-md="4">
            <ion-button expand="block" color="medium">
              <ion-icon slot="start" name="search"></ion-icon>
              Pesquisar OS(s) aberta(s)
            </ion-button>
        </ion-col>
      </ion-row>
        <ion-row>
            <ion-col class="col" size="12" size-md="9">
            <ion-input
                type="text"
                label="Peça Utilizada"
                label-placement="floating"
                fill="outline"
                placeholder="peça"
                [(ngModel)]="peca"

                maxlength="50">
            </ion-input>
          </ion-col>

        <ion-col class="col" size="12" size-md="3">
          <ion-input
            type="text"
            label="Nº de Ficha"
            label-placement="floating"
            fill="outline"
            placeholder="Nº de Ficha"
            [(ngModel)]= "ficha"

            maxlength="2">
        </ion-input>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col class="col" size="12" size-md="9">
        <ion-input
            type="text"
            label="Serviço Realizado"
            label-placement="floating"
            fill="outline"
            placeholder="Serviço"
            [(ngModel)]="servico"
            required
            maxlength="50">
        </ion-input>
      </ion-col>

      <ion-col class="col" size="12" size-md="3">
        <ion-input
            type="number"
            label="Quantidade"
            label-placement="floating"
            fill="outline"
            placeholder= "Quantidade"
            [(ngModel)]="quantidade"
            required
            maxlength="2">
        </ion-input>
      </ion-col>
    </ion-row>


    <ion-row>
      <ion-col class="col " size="12" size-md="9">
      </ion-col>

      <ion-col class="col " size="12" size-md="3">
        <ion-datetime-button datetime="endDatetime"></ion-datetime-button>
        <ion-modal [keepContentsMounted]="true" id="endDatetimeModal">
          <ng-template>
            <ion-datetime
             id="endDatetime"
             presentation="date"
             (ionChange)="onDateChange($event, 'startDate')"
             ></ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-col>
      </ion-row>

      <ion-button
          expand="block"
          color="success"
          [disabled]="!formValido()"
          (click)="cadastrar()">
        Cadastrar peças e serviços
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title class="titulo-color">Finalizar OS</ion-card-title>
    </ion-card-header>

    <ion-card-content>
        <ion-datetime-button datetime="datetime"></ion-datetime-button>
        <ion-modal [keepContentsMounted]="true" id="datetimeModal">
          <ng-template>
            <ion-datetime
             id="datetime"
             presentation="date"
             (ionChange)="onDateChange($event, 'endDate')"
             ></ion-datetime>
          </ng-template>
        </ion-modal>

    <ion-row>
      <ion-col class="col " size="12" size-md="12">
          <ion-input
          type="text"
          label="Serviço Realizado"
          label-placement="floating"
          fill="outline"
          placeholder="Nome do mecanico"
          [(ngModel)]="encerrar"
          required
          maxlength="50">
      </ion-input>

      </ion-col>
    </ion-row>

      <ion-button
          expand="block"
          color="danger"
          [disabled]="!formValidoEncerrar()"
          >
        Encerrar OS
      </ion-button>
  </ion-card-content>
  </ion-card>

  <ion-footer>
    <ion-toolbar>
      <ion-title slot="end" color="medium">Login: Vanderlei</ion-title>
    </ion-toolbar>
  </ion-footer>


</ion-content>
