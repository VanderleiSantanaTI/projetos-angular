<!-- Arquivo: card-info.component.html -->

<ion-content class="ion-padding">
  <h3>OS Abertas</h3>
  <div class="card-scroll">
    <ng-container *ngFor="let viatura of viaturas">
      <ion-card
        *ngIf="viatura.situacao_os_aberta == 'ABERTA'"
        color="danger"
        (click)="abrirDetalhesViatura(viatura)"
        class="viatura-card">
        <ion-card-header>
          <div class="container-os">
            <div class="os"><b>OS:</b> <em>{{ viatura.id_os }}</em><br></div>
          </div>
            <ion-card-title><em>{{ viatura.modelo }}</em></ion-card-title>
            <ion-card-subtitle><b></b> {{ viatura.marca_da_viatura | titlecase }}</ion-card-subtitle>
            <ion-card-subtitle><b>Placa:</b> {{ viatura.placa_eb | titlecase }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content [ngClass] = "viatura.manutencao === 'CORRETIVA' ? 'circle': 'circle-2'">
          {{ viatura.manutencao | titlecase }}
        </ion-card-content>
        <ion-card-subtitle class="d-flex justify-content-end p-1">
          {{ viatura.data }}
        </ion-card-subtitle>
      </ion-card>
    </ng-container>
  </div>

  <h3>OS Dispon√≠vel</h3>
  <div class="card-scroll">
    <ng-container *ngFor="let viatura of viaturas">
      <ion-card
        *ngIf="viatura.situacao_os_encerrada == 'FECHADA'"
        color="success"
        (click)="abrirDetalhesViatura(viatura)"
        class="viatura-card">
        <ion-card-header>
          <div class="container-os">
            <div class="os"><b>OS:</b> <em>{{ viatura.id_os | titlecase  }}</em><br></div>
          </div>
          <ion-card-title><em>{{ viatura.modelo }}</em></ion-card-title>
          <ion-card-subtitle><b></b> {{ viatura.marca_da_viatura | titlecase }}</ion-card-subtitle>
          Mecanico: {{ viatura.nome_mecanico | titlecase }}<br>
          Placa: {{ viatura.placa_eb | titlecase }}<br>
        </ion-card-header>
        <ion-card-content [ngClass] = "viatura.manutencao === 'CORRETIVA' ? 'circle': 'circle-2'">
          {{ viatura.manutencao | titlecase }}
        </ion-card-content>
        <ion-card-subtitle class="d-flex justify-content-end p-1">
          Data: {{ viatura.data_da_manutencao }}
        </ion-card-subtitle>
      </ion-card>
    </ng-container>
  </div>
</ion-content>
